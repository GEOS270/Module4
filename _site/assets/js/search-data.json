{"0": {
    "doc": "Lab Application",
    "title": "Lab Application",
    "content": "# Overview This lab gives you an introduction into how to conduct a \"full\" GIS workflow. ## Research Question What is the relationship between neighborhood green vegetation coverage and income in Vancouver? # Workflow How we will answer the research question: 1) Estimate vegetation coverage with satellite data and overlay census data. 2) Plot the relationship between vegetation coverage and income and run linear regression analysis. 3) Visualize the results. ## Spatial Data Models In this lab, we are going to explore ways to work with both Vector Data and Raster Data. We'll cover some specifics of these spatial data models in lecture. For now, just remember this. We use the **Raster Data Model** for *satellite data* and the **Vector Data Model** for *census data*. ### Acknowledgments - This lab was written by June Skeeter using content adapted from lab assignments created by Naomi Schwartz and Sally Hermansen. ",
    "url": "/docs/Application.html",
    "relUrl": "/docs/Application.html"
  },"1": {
    "doc": "Set Up",
    "title": "Set Up",
    "content": "{: .text-delta } 1. TOC {:toc} --- # Google Earth Engine Sign Up We are going to use Google Earth Engine (GEE) to download some satelite data. This will require a Google account so that you can access GEE and Google Drive. **1**{: .label .label-red } Go to [google.com](https://www.google.com/) and create an account following the Sign In button if you don't already have one. * A google account will give you access to google drive with 15 GB free storage space! This could be a useful resource when working on your final projects! **2**{: .label .label-red } Then got to [earthengine](https://earthengine.google.com/) and sign up * Choose sign up in the top right. * Follow the instructions to sign up using your Google account. * Once you have gone through the sign up process, you can close GEE. We'll go back to it later. **Note** If you are unable to create an account, contact your TA for a link to the data set. # Create a Project **1**{: .label .label-blue } Create a new project in ArcPro called **Van_NDVI**. * You can reference the [Module 1](https://geos270.github.io/Module1/docs/Application_Part3.html) for a refresher on setting up a project. **2**{: .label .label-blue } We're going to work with some Canadian Census Data. You learned how to download census data in Module 3. I've gone ahead and downloaded the relevant data for you already to save a bit of time. You can use the button below to download the data. * Extract the Van_Census.zip file to your newly created project Van_NDVI folder. [Download](https://github.com/GEOS270/Module4//raw/main/data/Van_Census.zip){: .btn .btn-blue } ## Set Up Your GeoDatabase By default, ArcPro creates a geodatabase with every new project. You will see one called **Van_NDVI.gdb** in your project folder. **Geodatabase**: A file management structure that is unique to ESRI products. You don't have to store your data in a geodatabase (.gdb), but they have some enhanced functionality that makes them better than regular folders in some circumstances. One helpful thing we can do in a .gdb, is create a feature dataset to store our census data. **Feature Dataset**: A collections of feature classes that are all in the same coordinate system. When you add a data to a feature dataset, it will *automatically* be projected into the coordinate system we specify. This can help us avoid making mistakes like working with data that is in the wrong coordinate system! We are going to use a Universal Transverse Mercator projection (UTM Zone 10N) since we are working with a small area (Vancouver). * Feature Datasets are only used for **Vector** Data **Feature Class**: A vector data layer stored in a geodatabase. Its a special file type created by ESRI to store data effectively within ArcGIS Pro. When vector data layers are not stored in a geodatabase, they are stored in other formats, such as shapefiles or geojsons. We'll cover the distinctions more in lecture. * Feature Class is a type of **Vector** data unique to ESRI programs Follow the steps below to setup your geodatabase. You can reference the video to see how to create one. **1**{: .label .label-red } Create a new Feature Dataset named **CensusData** feature dataset. * Right click Van_NDVI.gdb >> New Feature Dataset **2**{: .label .label-red } Set the Coordinate System to NAD 1983 UTM Zone 10N * **NAD 1983** is the name of the datum (North American Datum 1983), **UTM Zone 10N** is the name of the projection (Universal Transverse Mercator, Zone 10 N) * You can set this coordinate system to your favorites by right clicking and selecting add to favorites. This will make it easier to find in the future! **3**{: .label .label-red } After you click Run, it will appear in your Van_NDVI.gdb. Now we're going to add some census data. * Right click on your newly created **CensusData** feature dataset >> Import Feature Class(es) * Add the two census data layers you downloaded: **Van_DA_2016.shp** and **VanCMS_CT_2016.shp** Your browser does not support iframes. View Image in New Tab # Create the Project Boundary File We need to create a simple boundary file to upload to Google Earth Engine so we can download satellite for our study area. We can do this quickly using the dissolve tool. **1**{: .label .label-red } In the Geoprocessing pane, find the Dissolve tool. **2**{: .label .label-red } Set VanCMA_CT_2016 as the input * **Note**: The output will be saved to your Van_NDVI.gdb as a feature class by default, but feature classes can not be read by Google Earth Engine. * *Instead*: save the output as a **Shapefile** (.shp) one level up in your Van_NDVI project folder and name it **Boundary**. Shapefiles are just a different way of storing vector data. **3**{: .label .label-red } Remove this layer from your table of contents. We don't need it in this map project. Your browser does not support iframes. View Image in New Tab ",
    "url": "/docs/Application_Part1.html",
    "relUrl": "/docs/Application_Part1.html"
  },"2": {
    "doc": "Satellite Data",
    "title": "Satellite Data",
    "content": "{: .text-delta } 1. TOC {:toc} --- # Monitoring Vegetation with Satelites We're going to work with [LANDSAT8](https://developers.google.com/earth-engine/datasets/catalog/landsat-8) data in this lab. LANDSAT8 is one of a large number of satellites that orbit the earth continuously collecting multi-spectral (visible light & other wavelengths) imagery. We can use multi-spectral imagery for a number of different applications like estimating vegetation health. The lines on the chart below are referred to as a spectral reflectance curves. They show reflectance (amount of light) on the y-axis, defined as the percent of radiation reflected by different earth features, and wavelength on the x-axis. As you can see, the spectral reflectance curves for different features look very different. Specifically, you can see that healthy green vegetation has very high reflectance in the near-infrared wavelengths (0.7-1.4 µm) and lower reflectance in the visible part of the spectrum (0-0.7 µm), while water absorbs almost all incoming infrared radiation and thus has very low infrared reflectance. Soil has relatively higher reflectance in the visible wavelengths, and intermediate reflectance in the near infrared. Your browser does not support iframes. View Image in New Tab ## Calculating NDVI These differences are the basis for the normalized difference vegetation index (NDVI), one of the most commonly used spectral indices for vegetation monitoring. NDVI is calculated as: $$ NDVI = \\frac{(NIR-Red)}{(NIR+Red)} $$ where NIR is reflectance in the near-infrared wavelengths, and RED is reflectance in the red wavelengths. This index can range from -1 to 1, with higher values indicating more/greener/healthier vegetation. Look at the graph above and make sure you understand why green vegetation would have a high value of NDVI. The gray shaded areas indicate regions of the electromagnetic spectrum that are measured by a satellite. These regions are referred to as “spectral bands.” When you work with satellite imagery, you will have one raster for each band. The values for each raster contain the reflectance measured by the satellite in that band. (This will make more sense in a minute, when you start working with the satellite data). # Using Google Earth Engine **1**{: .label .label-red } Go to the [GEE code Explorer](https://code.earthengine.google.com/), log in if you need to, and create a new Repository called **Van_NDVI_Download**. **2**{: .label .label-red } Now create an New File, make sure its located within the Van_NDVI_Download repository you just created, and name it **Landsat8_NDIV_Download**. **3**{: .label .label-red } Copy the following Javascript code from in the grey box below and paste it into the code pane (top middle). ```javascript // Coordinates for Vancouver var Cent = ee.Geometry.Point([-123,49.25]); // Center Map on Vancouver Map.centerObject(Cent, 10); // Import the Landsat 8 TOA image collection. var Collection = ee.ImageCollection('LANDSAT/LC08/C01/T1_TOA').filter(ee.Filter.lt('CLOUD_COVER_LAND', 10)); // Get the number of images. var count = Collection.size(); print('Count: ', count); // Define NDVI Function var addNDVI_Landsat = function(image) { var ndvi = image.normalizedDifference(['B5', 'B4']).rename('NDVI'); return image.addBands(ndvi); }; // Apply Function to all Images var withNDVI_Landsat = Collection.map(addNDVI_Landsat); // Make a \"greenest\" pixel composite. var greenest = withNDVI_Landsat.qualityMosaic('NDVI'); var ndvi = greenest.select('NDVI') // Define Color Scheme for Visualization var ndviParams = {min: -.5, max: 1, palette: ['blue', 'white', 'green']}; // Display the result. Map.addLayer(ndvi, ndviParams, 'Greenest pixel composite'); // // Export to Google drive // Export.image.toDrive({ // image: ndvi, // description: 'Van_Greenest', // scale: 30, // region: Boundary // }); ``` **3**{: .label .label-red } Click **Run** and see take note of what happens. Reference the video below if you have trouble. * Google quickly processes your request and adds the image to your screen. You can change the transparency or turn the image on/off with the check box. * This image is a \"Greenest Pixel\" - the code queries all LANDSAT8 data, calculates NDVI for every location in the map view, and then selects the maximum NDVI value at each location, which represents the peak greenness (across all seasons/years) and adds it to the image! * Zoom and pan a bit to explore! Your browser does not support iframes. View Image in New Tab # Downloading the Data Below are the steps to download the NDVI data. You can reference the videos below for help. **Note** the export dialog has changed slightly since the video was recorded (see screenshot below video). **1**{: .label .label-green } Upload the Boundary file. * Go to the Assets tab (top left) * Click New > Shape files * Navigate to your Van_NDVI folder and upload the Boundary file you created. * Try to upload all the files named Boundary. GEE will tell you which (eg.sbx) file types it won't accept. Exclude them and upload the rest * Click refresh to see your upload * It may take a few minutes to show up, the video has been edited for brevity **2**{: .label .label-green } Import the Boundary file into the code. * Click on the boundary file you uploaded, and select import. * It will import in the top of the code window. * By default it names it \"table\", change the name to Boundary. **3**{: .label .label-green } Run the download. * Scroll to the bottom of the code. * In Javascript the double backslash \"//\" will \"comment out\" code or text so that it is ignored by the processor. * Highlight the commented out section of code and hit \"ctrl + /\" to get rid of the double back slashes. * Alternatively, you can just manual delete the double back slashes. * Click Run * Switch to the Task pane in the top right. Run the Van_Greenest task to export this layer to your Google Drive. * Google Drive is a free (15GB) file storage service that comes with a Google account. Your browser does not support iframes. View Image in New Tab ## Retrieve the Download Go to your [Google Drive](https://drive.google.com/drive/my-drive) and find the Van_Greenest.tif, it should be located in the root folder. It could take 5/10 minutes for GEE to process your request. Right click on it to download it an put it in your Van_NDVI folder. # Project the Raster Layer By default, data from GEE is not projected! It comes in the WGS 1984 Geographic Coordinate System (Lat/Lon referencing the WGS 1984 Datum). We need to get it into NAD 1983 UTM Zone 10N so it matches the rest of our data! Feature Datasets only work for **Vector** data. The NDVI data is in the **Raster** data format. So we have to reproject it manually. Raster data requires a slightly different tool to do the re-projection than the vector data we worked with in Module 1. The steps and video below goes shows you how to do that. **1**{: .label .label-blue } In the Geoprocessing pane, search for the Project Raster tool. **2**{: .label .label-blue } Set the projection to UTM Zone 10N (find in your favorites for quick access). **3**{: .label .label-blue } After running, the Van_Greenest_ProjectRaster should show up on your map. Your browser does not support iframes. View Image in New Tab # Save Your Project! Now would be a good time to save your project! ",
    "url": "/docs/Application_Part2.html",
    "relUrl": "/docs/Application_Part2.html"
  },"3": {
    "doc": "Data Exploration",
    "title": "Data Exploration",
    "content": "{: .text-delta } 1. TOC {:toc} --- # Symbolize Census Data & Plot Relationships These data layers have three variables: Population (total residents), Housing (monthly rent), and Income (annual total). The Canadian Census collects many different variables. We'll discuss the census more in depth during lecture in Module 3. For now, lets look at how we can display our data and make some simple graphs. **1**{: .label .label-red } Symbolize your census data by population. * Change the symbology for Van_DA_2016 to Graduated Colors. * Set the Field to Population. * Leave everything else as is for now. We'll discuss data classification methods in more detail later in term. **2**{: .label .label-red } Create a chart income vs. housing. * Right click Van_DA_2016 and click Create Chart > Scatter Plot. * In the chart properties tab set: * **X-axis**: Income * **Y-axis**: Housing * Make sure \"Show linear trend\" is checked to display a regression line on your chart. **3**{: .label .label-red } Note the zero values on the X & Y Axes. Stats Canada \"suppresses\" data when they don't get enough responses to a census question. No house in Vancouver is worth $0. We need to exclude the zeros so they don't skew our results * In the Map tab, click **Select by Attribute**, select for \"Housing\" greater than 0 **And** \"Income\" greater than 0. * Select by Attribute allows us to select rows/objects with a certain attribute. * It relies on something called a Structured Query Language (SQL). * We are selecting all rows \"Where\" our conditions are met. * Filter your selection from the chart. Note how the R2 value for the line of best fit changes! Your browser does not support iframes. View Image in New Tab ## A Note on Linear Regression. A regression line is also know as a \"line of best fit\". [Linear regression](https://en.wikipedia.org/wiki/Linear_regression#Introduction) assumes the relationship between an X variable (eg. Income) and a Y variable (eg. Housing) follows a linear relationship (eg. Y=MX + B) where M is the slope and B is the intercept. * Any deviations from this linear relationship are \"errors\". That is, all the other variability that cannot be explained by the model. Rental cost is impacted by many factors (eg. scarcity) that aren't as easy to capture with census data alone. * In the example below for Van_DA_2016 (before excluding zeros), M = 0.0123 and b = 660.1, which means at $0 income, rent is $660.1. And for every $100 increase in income, rent goes up $1.23. The R2 score, is known as the [coefficient of determination](https://en.wikipedia.org/wiki/Coefficient_of_determination). It is a measure of how well a model fits the data. It ranges from 0 to 1, with 0 representing \"no fit\" and 1 representing a \"perfect fit\". * This table shows how we assess the strength of a relationships indicated by the R2 statistics. In the example above, there is no strong relationship. |R2| Relationship|-------------|-------------|0.7 | Strong | ## Comparing CTs to DAs We'll cover the [census units](https://en.wikipedia.org/wiki/Census_geographic_units_of_Canada) more in depth in Module 3. For now, just know Census Dissemination Areas (DAs) are the smallest census division used by the Canadian Census. They cover the whole country and are generally grouped by municipality (eg. Vancouver) in to Census Subdivisions. Census Tracts (CTs) are larger units that are used to divide Census Metropolitan Areas (urban areas with populations > 100,000). **4**{: .label .label-red } Follow the same steps as above to symbolize population and plot Income vs. Housing for the VanCMA_CT_2016 layer. **Don't forget to exclude the zeros**. Note there are fewer zeros overall. Think about why that might be. **5**{: .label .label-red } From here on out, we'll only be working with the VanDA_2016 layer. You can remove the VanCT_2016 layer from your table of contents so its less cluttered and you don't get confused. # Visualize and Classify the NDVI Data To get a feel for the distribution of NDVI values in the dataset, we're going to plot them in a histogram to aid our visual inspection of the NDVI data. **1**{: .label .label-blue } Create a chart showing the count of cells by NDVI values. * Right click the projected NDVI layer (NDVI layer = Van_Greenest_ProjectRaster) and click Create Chart > Histogram * Under Variable, set Band_1 as Number. Note what shows up on the chart. * A histogram represents a distribution by grouping the data into bins (ranges), and plotting the count of values (eg. raster cells) for by bin. * Change the bin number to see how changing the size of the bins, impacts how you perceive the data. Try 10, then try 50. **2**{: .label .label-blue } Change the base map to help inspect the NDVI data. * On the Map tab click \"Basemap\" and choose Imagery * Toggle the NDVI Layer on and off to see how the NDVI values correspond to green vegetation on the visible imagery base map layer. * Look at the histogram and compare the NDVI layer with the satellite image base map. We can make some inferences about the data. The NDVI values have a bimodal distribution (two peaks) according to the histogram. The peaks correspond to areas dominated by water and dense urban areas (low values) and dense vegetation (high values). Values in-between the peaks represent less dense urban areas, moderate greenery. Your browser does not support iframes. View Image in New Tab ## Use The Natural Breaks Classification **3**{: .label .label-blue } Search for the Reclassify tool in the geoprocessing pane. Use the projected NDVI layer as the input. Name your layer **Classification** (or **reclass** if you recieve an error about name length being > 13 characters). Specific names aren't so important, but the point is to give things a name that makes sense to you. **4**{: .label .label-blue } Click classify to set the classification scheme. Set the method to **Natural Breaks**. This is a method designed to automatically find an \"optimal\" fit to a dataset. We'll talk more about classification in Module 3. * We want to classify (group) the NDVI into three classes (Green Vegetation, Medium Density Residential, Water/Urban), so set the number of classes to 3. Your browser does not support iframes. View Image in New Tab ",
    "url": "/docs/Application_Part3.html",
    "relUrl": "/docs/Application_Part3.html"
  },"4": {
    "doc": "Spatial Analysis",
    "title": "Spatial Analysis",
    "content": "{: .text-delta } 1. TOC {:toc} --- # Spatial Analysis {: .no_toc } A key aspect of GIS is overlaying multiple data layers to generate new information. There are typically multiple solutions to a given problem in GIS. Here, we are going to look at two methods for combining a raster image and a vector layer: 1) **Zonal Statistics**: This method is slightly faster, but can be applied in a more limited number of circumstances. 2) **Raster to Polygon Conversion**: This method involves converting between data types and requires more a few steps, but it is more flexible. # Clear Your Selection Before proceeding with these step **Clear your Selection** in Van_DA_2016. This is an important pitfall that commonly trips people up. **Always** check if you have an active selection. If things don't work how you expect them too! * If you still have rows selected, they will appear in cyan in the when the layer is turned on. When you have a selection, and try to run a process, ArcPro will only run the process on the selected records. We want to run it on all records, so we must hit clear selection first! * You can clear the selection by clicking the \"Clear\" button found on the Map ribbon at the top. # Zonal Statistics We are going to overlay the vector data on the raster data to measure the mean NDVI value for each DA in the city of Vancouver using the **Zonal Statistics as Table** tool. Then we will **Join** the resulting output table to display the mean NDVI values per DA. A join is a way to add tables to a layer based on a specific column. **1**{: .label .label-red } Find the Zonal Statistics as Table tool in the Geoprocessing pane, choose **Van_DA_2016** as the feature zone data, and **Van_Greenest_ProjectRaster** as the Input value raster. * Set DAUID as the Zone Field * Select All statistics types * Run **3**{: .label .label-red } Right click on Van_DA_2016 and choose Joins and Relates > Add Join. * Set DAUID as the Input Join Field * Choose the Zonal Statistics table as your input. *(the name should look something like ZonalST_Van_DA_1)* * Make sure DAUID is selected as the Join Table Field as well * Click OK **3**{: .label .label-red } Inspect the Join * Open the attribute table and note the new columns at the end * Change the symbology, and choose Mean as the Field * Zoom in, turn Van_DA_2016 layer on/off, compare to the classification, NDVI layer, and base map. Confirm the values make sense given the inputs Your browser does not support iframes. View Image in New Tab # Raster to Polygon Conversion We are going to convert the Classification raster layer to a vector layer. Then we can overlay the resulting vector layer with the Van_DA_2016 layer using an intersect and identify the total green vegetation area per DA. **1**{: .label .label-blue } Find the **Raster to Polygon** tool in the geoprocessing pane. * Set the Classified NDVI image as the Input raster * Choose Value as the Field * You can just accept the default name, this is only an intermediate step. **2**{: .label .label-blue } Set the Symbology to Unique Values and choose gridcode as the Field * Zoom into somewhere of interest (eg. I chose Trout Lake), toggle the newly created vector layer on and off to see if it makes sense. Your browser does not support iframes. View Image in New Tab ## Intersect The [Intersect tool](https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/intersect.htm) is one of the most useful vector - vector overlay operations. It will combine the feature classes where they overlap and exclude all other areas. We'll talk a lot more about this tool and other options down the line in Module 4 **3**{: .label .label-blue } Find the Intersect tool in the geoprocessing pane. Set Van_DA_2016 and the output from the raster to polygon conversion as the inputs. Then click run. * Change the symbology and open the attribute table to confirm the results look like what we'd expect. Your browser does not support iframes. View Image in New Tab ## Add & Calculate Field Adding new fields to our attribute table allows us to perform calculations or copy a subset of our data to a new column. **4**{: .label .label-blue } In the Van_DA_2016_Intersect attribute table, click Field: **Add**. * Name the field Green_Veg_Area and give it an alias without the underscores. * Arc doesn't allow spaces in column names. * Make sure the data type is **Double**. * Double is a type of data that allows for decimals. The default is \"Long\", which is an integer (no decimals) but we want decimals! * Make sure to save the field then close the field window and go back to the attribute table. **5**{: .label .label-blue } Choose Select by Attribute and set your query to: Where gridcode is equal to 3. * Our condition is that gridcode (attribute from the NDVI layer representing vegetation category) is equal to 3 (green vegetation). **6**{: .label .label-blue } Right click on Green Veg Area and choose **Calculate Field**. This allows us to define a function and apply it to the table. * Set the expression to: Green_Veg_Area = Shape_Area * *Note 1* you only need to complete the right side of the equation * *Note 2* If you are unable to click the **Calculate Field** button, go to the edit tab and click edit (pencil icon). * This will simply copy the shape area for the green vegetation areas, we will work with a more complex expression on the next page. **7**{: .label .label-blue } We want to assign all other rows a 0. We can quickly invert our selection with the **Switch** button. * Calculate the field again, but with Green_Veg_Area = 0 * We have selected gridcode 1 & 2 (Not vegetation) so they all get zeros. Your browser does not support iframes. View Image in New Tab ## Summary Table Summarizing by a field (eg. DAUID - the Dissemination Unit ID) allows us to get statistics of interest for specific columns. **8**{: .label .label-blue } Make sure you clear the selection. Right click on DAUID in the attribute table and click Summarize. * Set Green Veg Area as the Field and choose Sum as the statistic type. * Make sure DAUID as the Case Field. * The resulting table will show the total of just the green vegetation area per DA, and can be joined to the Van_DA_2016 layer. Your browser does not support iframes. View Image in New Tab ## Join the Summary Table **9**{: .label .label-blue } Do a **Join** to add the Summary Table output to Van_DA_2016. Following the same steps as above but use the Summary Table you just generated as the Join Table. Now, Van_DA_2016 has \"greenness\" quantified by two different methods. Method 1) gives us the average NDVI value per DA. Method 2) gives us the total \"green vegetation\" area per DA. ## Data Normalization One last thing we need to do is control for any confounding factors. For example, the DAs are different sizes. To get a better sense of green vegetation per DA, we will Normalize the Green Vegetation area by the Shape Area of the DAs. This is known as **Normalizing**, sometimes also referred to as standardizing. It is the process of dividing one variable by another variable to account for their relationship. It can help us identify patterns that might be masked by a confounding variable. We'll discuss normalization in more depth in lecture later on in term. **10**{: .label .label-blue } In the VanDA_2016 attribute table, add a Field called **Green_Vegetation_Fraction**. * Give it the alias Green Vegetation Fraction. * Make sure its type is: double. **11**{: .label .label-blue } Use the field calculator to apply an expression to your **Green Vegetation Fraction** field. * Divide SUM_Green_Veg_Area (yours might have a slightly different name) by the Shape_Area. This will give us the percentage of the DA that is covered by Dense Green Vegetation. Your browser does not support iframes. View Image in New Tab # Inspect and Compare the Outputs **1**{: .label .label-green } Open the Attribute Table of VanDA_2016. Double click on **Mean** to sort by that column in ascending/descending order. Take note of the DAUID for of the DA with the highest value. Do the same for **Green Veg Fraction**. Are they the same? **2**{: .label .label-green } Create a new Scatter plot. Set the X-axis to **Green Veg Fraction** and the Y-axis to **Mean**. Think about the relationship between these variables and what might describe the pattern you see. **3**{: .label .label-green } Change the Y-axis to **Income**. Make sure to **Exclude the zeros** using the same procedure as earlier. Look at the resulting relationship. Is the **Green Veg Fraction** a good predictor of income? Try changing the X-axis to **Mean** to see if it gives a better result? ",
    "url": "/docs/Application_Part4.html",
    "relUrl": "/docs/Application_Part4.html"
  },"5": {
    "doc": "Data Visualization",
    "title": "Data Visualization",
    "content": "{: .text-delta } 1. TOC {:toc} --- # Insert a Layout Add a layout to your map. Choose the 8.5\":\" x 11\" Letter size, in the Landscape orientation. Your task is to create a layout with a **Map** showing Mean NDVI by DA along side a **Chart** showing the relationship between Income and Green Veg Fraction. # Adding a Chart to the Layout Arc allows you to add charts to your layout in addition to maps. Your browser does not support iframes. View Image in New Tab ## Change the Chart Title In the chart properties pane, under general, you can change the title of the chart so it is more concise and fits on the layout better. ## Resize Items and Set Map Scale Resize the map and chart so the map is a bit bigger than the chart. Then set the map scale to 1:100,000 and add the scale to the map. ## Add Other Map Elements Add all the appropriate map elements: Title, Legend, North Arrow, and Source Statement. You can reference previous Modules for a refresher on how to do this. * For the Data Source in you Name/Source Statement, list Stats Canada and Google Earth Engine as the data sources * Your final map should look something like shown below. * The chart should show the relationship between green vegetation area and income. The map should show mean NDVI value by DA. * This map is just a rough guide, feel free to make your own stylistic choices to improve on it. Your values should look a bit different, so don't be concerned if the numbers don't match perfectly! Your browser does not support iframes. View Image in New Tab ",
    "url": "/docs/Application_Part5.html",
    "relUrl": "/docs/Application_Part5.html"
  },"6": {
    "doc": "Assessment",
    "title": "Assessment",
    "content": "# Assessment You can use the submit your answers to the Assessment via the Module 2 Quiz on Canvas. Questions are listed here with hyperlinks to the relevant section of the module if you need help finding answers. ## Written Answers & File Uploads Written answers should be brief but they should adequately answer the question. Bullet point format is sufficient unless otherwise specified. All written answers & maps will be evaluated following this general rubrics below. * Scores & categories are general guides, you TA may assign scores between these levels * Your TA will provide brief comments where applicable, if you need more feedback you can follow up with your TA. **Written Answer Rubric** |Score| Category | Details |-----|--------------------|------------------------------------------------------------------|0% |Missing |N/A |40% |Insufficient |Minimal effort, missing major key points, or serious logical flaws|60% |Below Expectations |Missing a few key points or minor logical flaws |80% |Met Expectations |Hits key points and mostly well constructed |100% |Exceeds Expectations|Clearly thought out, concise, and astute | **Map Rubric** |Score| Category | Details |-----|--------------------|-------------------------------------------------------------------|0% |Missing |N/A |40% |Insufficient |Serious errors in analysis, missing data, or major stylistic issues|60% |Below Expectations |Minor errors in analysis or multiple stylistic issues |80% |Met Expectations |Error free analysis, minor stylistic issue |100% |Exceeds Expectations|Error free analysis and clean, aesthetically pleasing map | --- # Lecture Content Questions [**1**](Content_Part1_1.md) ______ have well defined boundaries. They are countable, meaning there is only a finite number of them. [**2**](Content_Part1_1.md) ______ lack well defined boundaries. Because of this, they can be measured at an infinite number of locations. [**3**](Content_Part1_1.md) We rarely work with multiple types of phenomena at once in GIS because it is too complicated. [T/F] [**4**](Content_Part1_2.md) For these data types, we cannot calculate meaningful numerical statistics. (Select all that apply). - Nominal - Ordinal - Interval - Ratio [**5**](Content_Part1_2.md) Briefly discuss the difference between qualitative and quantitative data and their respective sub-types. [**6**](Content_Part2_0.md) Negative spatial autocorrelation indicates clustering. [T/F] [**7**](Content_Part2_1.md) The ______ data model represents space as a continuous grid of cells and each cell can contain only one attribute. [**8**](Content_Part2_2.md) The ______ data model represents features in space as discrete two-dimensional polygons, one-dimensional lines , and/or \"zero-dimensional\" points. Attribute(s) are stored separately in a table, and each row can have numerous attributes. [**9**](Content_Part2_2.md) Polygons can be single part or multipart [T/F]. [**10**](Content_Part2_3.md) Both types of phenomena can be represented using either the data model. But generally speaking, continuous fields phenomena are better represented by the ______ model and discrete objects are better represented by the ______ data model. [**11**](Content_Part2_3.md) Higher resolution rasters have smaller cells which means they take less memory to store. [T/F] [**12**](Content_Part2_3.md) The ______ pertains to how we assign data values to grid cells that cover more than one value. [**13**](Content_Part2_3.md) Resolution is a property of the [data/map/both], scale is a property of the [data/map/both]. # Lab Application Questions Unless otherwise specified, numeric answers have a margin of error of 0.01, so give all responses to at least the hundredths place. [**14**](Application_Part2.md#monitoring-vegetation-with-satelites) What is NDVI and what is it used for? Describe the patterns you see in NDVI across the metro Vancouver area. [**15**](Application_Part3.md#a-note-on-linear-regression) Looking at the **VanDA_2016** layer, for every $100 increase in income at the DA level, how much does rental price increase? [**16**](Application_Part3.md#a-note-on-linear-regression) Looking at the **VanDA_2016** layer, What is the R2 score for this model? [**17**](Application_Part3.md#comparing-cts-to-das) Which Census Unit displays a more direct relationship between Income and Housing? - DA - CT - About the same [**18**](Application_Part3.md#comparing-cts-to-das) What are the differences you notice between the CTs and DAs in terms of area and population? [**19**](Application_Part3.md#use-the-natural-breaks-classification) What value does the Natural Breaks method determine should denotes the lower bound of the \"Green Vegetation Class?\" [**20**](Application_Part4.md#data-normalization) What does data normalization do? [**21**](Application_Part4.md#inspect-and-compare-the-outputs) Describe the relationship between the **Mean** NDVI value per DA and and the **Green Veg Fraction** per DA. Are they telling us the same thing? How Strongly are they related? [**22**](Application_Part4.md#inspect-and-compare-the-outputs) What is the R2 score for **Green Veg Fraction** vs. **Income**? [**23**](Application_Part4.md#inspect-and-compare-the-outputs) What is the R2 score for **Mean** vs. **Income**? [**24**](Application_Part4.md#inspect-and-compare-the-outputs) Are either of these variables strongly linked to income? Explain why or why not? Are there any improvement you think we could make to this analysis? [**25**](Application_Part6.md#fa1) Export your Layout as a .pdf and upload it to Canvas. ",
    "url": "/docs/Assessment.html",
    "relUrl": "/docs/Assessment.html"
  },"7": {
    "doc": "Assessment Key",
    "title": "Assessment Key",
    "content": "# Assessment {: .no_toc } You can use the course Canvas page to complete the quiz, written submission, and files uploads. I suggest you download write down your answers as you progress through the Content and Application sections then upload your answers to canvas once you have finished the module. 1. TOC {:toc} --- # Module Quiz All quiz answers are multiple choice, numeric input, fill in the blank, etc. type questions. They can be submitted via the Module 1 Quiz that can be found on the Canvas page. You will have unlimited attempts to take the quiz. ## Application Questions [**QA1**](Application_Part3.md#qa1) For every $100 increase in income at the CT level, how much does rental price increase? $2.66 Correct: **2.56 - 2.76** Half Pts: **2.46 - 2.86** [**QA2**](Application_Part3.md#qa2) What is the r2 score for this model? r2 = 0.38 Correct: **0.37 - 0.39** Half Pts: **0.33 - 0.43** [**QA3**](Application_Part3.md#qa3) Which Census Unit displays a more direct relationship between income and housing? - DA - CT - About the same Correct: **CT** [**Q4**](Application_Part3.md#qa3) Which value denotes the lower bound of the \"Green Vegetation Class?\" 0.606867 Correct: **0.597 - 0.617** Half Pts: **0.557 - 0.657** [**Q5**](Application_Part4.md#qa5) What is the DAUID of the DA with the highest Mean NDVI value? *Hint* Double clicking on Green Veg Area in the attribute table allows you to sort in ascending/descending order. 59151219 [**Q6**](Application_Part4.md#qa6) What is the DAUID of the DA with the highest Green Veg Area? 59153586 [**QA7**](Application_Part4.md#qa7) Is the DA with the highest mean NDVI value the same as the DA with the greatest area of green vegetation? Y/N Correct: **N** [**QA8**](Application_Part4.md#qa8) Create a scatter plot, with the Mean NDVI value (Output from Method 1) on the X-axis and Green Veg Area Sum (Output from Method 2) on the Y-axis. What is the R2 value? 0.11 Correct: **0.1 - 0.12** Half Pts: **0.06 - 0.16** [**QA9**](Application_Part4.md#qa9) The r2 score indicates Mean NDVI value is [Strong/Moderate/Weak/Very Weak] predictor of Green Veg Area. Correct: **Very Weak** Half Pts: [**QA10**](Application_Part4.md#qa10) Change the Y-axis to Income and leave the X-axis as Mean NDVI, note the R2 score. Now change the X-axis to the Green Veg Area Sum and note the R2 score. Which variable has a \"stronger\" relationship with income? [Green Veg Area/Mean NDVI] Green area & income (r2=0.014) Mean NDIV (r2=0.058). Mean NDVI has \"stronger relationship\" Correct: **Green Veg Area** [**QA11**](Application_Part4.md#qa11) Are either of these variables strongly linked to income? [Yes/No/Just Mean NDIV/Just Green Veg Area] NO, r2 0=no relationship, 1 = perfect relationship. These values are low Correct: **No** [**QA12**](Application_Part5.md#qa12) Create a scatter plot, with the Mean NDVI value (Output from Method 1) on the X-axis and Green Vegetation Fraction (Normalized Output from Method 2) on the Y-axis. What is the R2 value? 0.64 Correct: **0.63 - 0.65** Half Pts: **0.59 - 0.69** [**QA13**](Application_Part5.md#qa13) The r2 score indicates Mean NDVI value is [Strong/Moderate/Weak/Very Weak] predictor of Green Veg Area. Correct: **Moderate** Half Pts: --- ## Content Questions [**QC1**](Content_Part1.md#qc1) The ______ data model represents space as a continuous grid of ______ which each contain a single ______. **0** Correct: **Raster** Half Pts: **1** Correct: **Cells, Pixels, equal sized cells** Half Pts: **2** Correct: **Value, attribute, non-spatial attribute** Half Pts: given value [**QC2**](Content_Part1.md#qc2) The ______ data model represents features in space as discrete two-dimensional ______ , one-dimensional ______ , and/or \"zero-dimensional\" points. Attribute information is stored separately in a ______. **0** Correct: **Vector** Half Pts: **1** Correct: **Polygons, polygon data** Half Pts: **2** Correct: **Lines, line data** Half Pts: **3** Correct: **Table, database table, tablular format, data table, attribute table** Half Pts: file, database, tubular data, different table, tabular [**QC3**](Content_Part2.md#qc3) ______ objects have well defined boundaries. They are countable, meaning there is only a ______ number of them. **0** Correct: **Discrete** Half Pts: Discrete Objects **1** Correct: **Finite, Limited, specific, countable** Half Pts: exact, certain, set, fixed [**QC4**](Content_Part2.md#qc4) ______ fields lack well defined boundaries. Because of this, they can be measured at an ______ number of locations. **0** Correct: **Continuous** Half Pts: Continuous Fields **1** Correct: **Infinite, Unlimited, any, endless** Half Pts: arbitrary, unspecified, uncountable [**QC5**](Content_Part2.md#qc5) Both types of phenomena can be represented using either the raster or vector data model. However, ______ phenomena are generally better represented by the vector model and ______ phenomena are better represented by the raster data model. **0** Correct: **Continuous** Half Pts: Continuous Fields **1** Correct: **Discrete** Half Pts: Discrete Object [**QC6**](Content_Part2.md#qc6) Higher resolution rasters have smaller cells which means they take less memory to store [T/F] Correct: **FALSE** - storage space is dictated by the number of cells, not the cell size **but** if trying to store equivalent areas, the storage space will be greater for higher resolution. [**QC7**](Content_Part2.md#qc7) The ______ problem pertains to how we assign data values to grid cells that cover more than one value. Correct: **Mixed Pixel, Mixed Cell, mixed-pixel** Half Pts: boundary delineation, Mixed Pixel Problem [**QC8**](Content_Part2.md#qc8) Resolution is a property of the [data/map/both], scale is a property of the [data/map/both]. **0** Correct: **Both** Half Pts: **1** Correct: **Map** Half Pts: [**QC9**](Content_Part2.md#qc9) Polygons in a vector dataset can be single part or multipart [T/F]. {0: {'Correct': 'TRUE'}} Correct: **TRUE** --- # Module Assignment 60Pts All written answers should be numbered and record in one document, saved as a .pdf, and uploaded to canvas. The file submissions should also be saved as .pdf and uploaded as a separate document. **Written answers can be as brief as you want as long as they answer the question.** ## Application Questions ### Written Answers [**WA1**](Application_Part2.md#wa1) 8 pts What is NDVI and what is it used for? Describe the patterns you see in NDVI across the metro Vancouver area. NDVI is a metric for gauging vegetation health/density/\"greenness\". It is based off the differential reflectivity between red (low for plants) and near infrared (high for plants). Across metro van - water/concrete low, residential w/ tree cover medium, forests/agriculture high [**WA2**](Application_Part3.md#wa3) 2 pts What are the differences you notice between the CTs and DAs in terms of size and population? CDAs are smaller population/size wise, DAs give full coverage CTs only in CMA (metro areas) [**WA3**](Application_Part5.md#wa3) 8 pts What does data normalization do? How does normalizing effect the relationship with income? Create a new chart with Green Vegetation Fraction on the X-axis and Income on the Y-axis to find out. How does this compare to when we were looking at the relationship between Total Green Vegetation Area and income? Normalizing accounts for a confounding/secondary/other variable by dividing the variable of interest by the confounder. This helps control for correlation between the two variables. The R2 score goes up to 0.083, Accounting for the different sizes of the DA \"improves\" the relationship. But not by much [**WA4**](Application_Part6.md#wa4) 12 pts What do the results of this analysis show? Are there any improvement you think we could make to this analysis? The relationship isn't strong, probably because there are other factors that are determine where people with limited resources can afford to live and where those with money choose to live. (7.5 pts) Things to look at might include: housing cost (rent or land value) instead of income. Both NDVI & green area combined (eg. multivariate linear regression). Excluding downtown core and focus on just medium density residential areas. Account for water/beaches (also attracts high income but low NDIV) . These are just possible suggestions, they don't have to list these anything that makes sense counts (7.5 pts for listing two or more suggestions, 3.25 pts if just one). ### File Submissions [**FA1**](Application_Part6.md#fa1) - 25 pts (see breakdown - tally by this instead of rubric) Export your Layout as a .pdf and upload it to Canvas. See example map: Map showing proper mean NDVI (not green fraction) - 5pts Chart showing proper mean green fraction vs income (not NDVI) - 5pts Source statement (Name/source/data/date) - 4ts (1 off for name/date etc.) Clean presentation & appropriate elements (Text is descriptive/not cut off, north arrow, legend, scale text) - 6 pts Projection and scale 1:100,000 (should be obvious if the left it in Lambert conformal, Vancouver will be slanted) - 5pts --- ## Content Questions [**WC1**](Content_Part2.md#wc1) - 5pts Briefly discuss what resolution means with regards to raster and vector data. Raster resolution is defined by the cell size - smaller cells = higher resolution Vector resolution is less straightforward. Determined by density of points representing polygons/lines. --- # Rubric All written answers and file submissions will be scored using this generic rubric. Your TA will provide brief comments where applicable. For more feedback you can follow up with your TA. |Score|Comments |-----|--------------------| 0% |Missing | 25% |Insufficient | 50% |Below Expectations | 75% |Met Expectations | 100%|Exceeds Expectations| ",
    "url": "/docs/Assessment_Key.html",
    "relUrl": "/docs/Assessment_Key.html"
  },"8": {
    "doc": "Phenomena and Data Types",
    "title": "Phenomena and Data Types",
    "content": "# A Bit About Data Before we think about how we represent data in a GIS specifically, we need to take a step back and think about what data is? * Data is information describing some phenomenon. * The **type of phenomenon** being represented will often influence *how* we represent it. * There are different types of data too. Some is numeric, some is purely descriptive. Different types of data have different rules we must consider when working with them. * Spatial data is special! There are unique considerations we need to make. ",
    "url": "/docs/Content_Part1.html",
    "relUrl": "/docs/Content_Part1.html"
  },"9": {
    "doc": "Types of Phenomena",
    "title": "Types of Phenomena",
    "content": "# Types of Phenomena A key determinant of which data model is best for a given application is the type of phenomena we're trying to represent. There are two key types of phenomena: **Discrete Objects** and **Continuous Fields** Your browser does not support iframes. View Slides in New Tab Download the slides as a .pdf [here](https://raw.githubusercontent.com/June-Skeeter/Module2_GEOS270/main/docs/content/Phenomena.pdf) ",
    "url": "/docs/Content_Part1_1.html",
    "relUrl": "/docs/Content_Part1_1.html"
  },"10": {
    "doc": "Types of Data",
    "title": "Types of Data",
    "content": "# Types of Data Your browser does not support iframes. View Slides in New Tab Download the slides as a .pdf [here](https://raw.githubusercontent.com/June-Skeeter/Module2_GEOS270/main/docs/content/DataTypes.pdf) ",
    "url": "/docs/Content_Part1_2.html",
    "relUrl": "/docs/Content_Part1_2.html"
  },"11": {
    "doc": "Spatial Data Models",
    "title": "Spatial Data Models",
    "content": "# Spatial Data Models Spatial Data has some unique properties which mean we need to implement specific strategies to work with it. There are two key formats we work with in GIS for spatial data: **Raster** and **Vector**. Both models can be used to represent most spatial phenomena; but they are not equally suited for all applications. ",
    "url": "/docs/Content_Part2.html",
    "relUrl": "/docs/Content_Part2.html"
  },"12": {
    "doc": "Spatial is Special",
    "title": "Spatial is Special",
    "content": "# Spatial is Special You might encounter the phrase \"Spatial is special\" in your time studying GIS. Spatial data is the foundation of Geographic Information Science, it is what distinguishes GIS from the broader field of data science. This was succinctly summarized by Waldo Tobler in **The First Law of Geography**: Your browser does not support iframes. View Image in New Tab Download the slides as a .pdf [here](https://raw.githubusercontent.com/June-Skeeter/Module2_GEOS270/main/docs/content/Toblers_Law.pdf) ",
    "url": "/docs/Content_Part2_0.html",
    "relUrl": "/docs/Content_Part2_0.html"
  },"13": {
    "doc": "Raster Data",
    "title": "Raster Data",
    "content": "# Raster Data A simple but storage intensive method for representing data that is widely ustilized in GIS. Rasters are commonly encountered as: satellite and drone imagery, elevation models, climate data, model outputs, and scanned maps. Your browser does not support iframes. View Image in New Tab Download the slides as a .pdf [here](https://raw.githubusercontent.com/June-Skeeter/Module2_GEOS270/main/docs/content/Raster.pdf) ",
    "url": "/docs/Content_Part2_1.html",
    "relUrl": "/docs/Content_Part2_1.html"
  },"14": {
    "doc": "Vector Data",
    "title": "Vector Data",
    "content": "# Vector Data In GIS, vector data are commonly encountered as: political boundaries, cenus data, pathways (road, trails, etc.), point location (stop sign, fire hydrant), etc. Your browser does not support iframes. View Image in New Tab Download the slides as a .pdf [here](https://raw.githubusercontent.com/June-Skeeter/Module2_GEOS270/main/docs/content/Vector.pdf) ## Sample GeoJson File ```json { \"type\": \"FeatureCollection\", \"features\": [ { \"type\": \"Feature\", \"properties\": { \"marker-color\": \"#blue\", \"marker-size\": \"medium\", \"marker-symbol\": \"circle\", \"Name\": \"Vancouver\" }, \"geometry\": { \"type\": \"Point\", \"coordinates\": [ -123.04687499999999, 49.23912083246698 ] } }, { \"type\": \"Feature\", \"properties\": { \"marker-color\": \"red\", \"marker-size\": \"medium\", \"marker-symbol\": \"square\", \"Name\": \"Victoria\" }, \"geometry\": { \"type\": \"Point\", \"coordinates\": [ -123.40942382812501, 48.516604348867475 ] } } ] } ``` ",
    "url": "/docs/Content_Part2_2.html",
    "relUrl": "/docs/Content_Part2_2.html"
  },"15": {
    "doc": "Choice of Data Model",
    "title": "Choice of Data Model",
    "content": "# Choice of Data Model Lets recap to think through some Practical Considerations and compare the spatial data models side by side. Your browser does not support iframes. View Slides in New Tab Download the slides as a .pdf [here](https://raw.githubusercontent.com/June-Skeeter/Module2_GEOS270/main/docs/content/ChoiceOfModel.pdf) ",
    "url": "/docs/Content_Part2_3.html",
    "relUrl": "/docs/Content_Part2_3.html"
  },"16": {
    "doc": "Spatial Data Models",
    "title": "Spatial Data Models",
    "content": "# Spatial Data Models We use data models represent phenomena in a GIS. A data model is just a simplified abstractions of reality. # Spatial Data Models Spatial Data has some unique properties which mean we need to implement specific strategies to work with it. There are two key formats we work with in GIS for spatial data: **Raster** and **Vector**. Both models can be used to represent most spatial phenomena; but they are not equally suited for all applications. ## Learning Outcomes ### Lecture - Overview of different types of phenomena - Overview of different types of data - Differentiate between raster and vector data models. - Learn how each model represents space and stores attributes. - Learn which types of models are best suited for different applications. - Overview of data resolution and how it relates to scale. # How do we represent Geographic Information digitally? Now that we've covered how we project spatial data, we can learn how we actually represent that spatial data in a computer. But first, lets take a step back and talk more broadly about data. What are data? A collection of information (qualitative or quantiative) that describe a phenomena. What makes spatial data different from other types of data? The spatial coordinates must be treated differently (projected). Further, spatial relationshps like proximity must be accounted for. Do similar issues arise with temporal data? Yes! Time units must be treated differently and temporal relationshps like proximity are generally important. ### Lab * Experience a Typical GIS Workflow * Explore Canadian Census Data * Download Data from Google Earth Engine * Work with Raster and Vector Data Layers * Conduct Spatial Analysis * Normalize and Classify Data * Create Charts # Deliverables Every module will be scored out of 100 pts. For this module will be be submitting one map and a some written responses. You will also be taking a quiz consisting of multiple choice, numeric input, fill in the blank, etc. type questions. See the [assessment page](docs/Assessment.md). ",
    "url": "/",
    "relUrl": "/"
  }
}
