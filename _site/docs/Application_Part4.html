<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Spatial Analysis | Module 4</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Spatial Analysis" /> <meta property="og:locale" content="en_US" /> <meta property="og:site_name" content="Module 4" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Spatial Analysis" /> <script type="application/ld+json"> {"@type":"WebPage","url":"/docs/Application_Part4.html","headline":"Spatial Analysis","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> Module 4 </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Spatial Data Models category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/" class="nav-list-link">Spatial Data Models</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Spatial is Special category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/Content_Part2_0.html" class="nav-list-link">Spatial is Special</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="/docs/Content_Part2_1.html" class="nav-list-link">Raster Data</a></li><li class="nav-list-item "><a href="/docs/Content_Part2_2.html" class="nav-list-link">Vector Data</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Choice of Data Model category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/Content_Part2_3.html" class="nav-list-link">Choice of Data Model</a><ul class="nav-list"></ul></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Lab Assignment category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/docs/Application.html" class="nav-list-link">Lab Assignment</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/Application_Part1.html" class="nav-list-link">Set Up</a></li><li class="nav-list-item "><a href="/docs/Application_Part2.html" class="nav-list-link">Satellite Data</a></li><li class="nav-list-item "><a href="/docs/Application_Part3.html" class="nav-list-link">Data Exploration</a></li><li class="nav-list-item active"><a href="/docs/Application_Part4.html" class="nav-list-link active">Spatial Analysis</a></li><li class="nav-list-item "><a href="/docs/Application_Part5.html" class="nav-list-link">Data Visualization</a></li></ul></li><li class="nav-list-item"><a href="/docs/Assessment.html" class="nav-list-link">Module Quiz</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Module 4" aria-label="Search Module 4" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://geos270.github.io/Syllabus/docs/Overview.html#course-schedule" class="site-button" > Course Schedule </a> </li> <li class="aux-nav-list-item"> <a href="https://github.com/GEOS270/Module4" class="site-button" > View on github </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/Application.html">Lab Assignment</a></li> <li class="breadcrumb-nav-list-item"><span>Spatial Analysis</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#clean-up-your-workspace-selection" id="markdown-toc-clean-up-your-workspace-selection">Clean Up Your Workspace Selection</a></li> <li><a href="#method-1" id="markdown-toc-method-1">Method 1</a> <ol> <li><a href="#zonal-statistics-as-table" id="markdown-toc-zonal-statistics-as-table">Zonal Statistics as Table</a></li> </ol> </li> <li><a href="#method-2" id="markdown-toc-method-2">Method 2</a> <ol> <li><a href="#raster-to-polygon-conversion-and-intersection" id="markdown-toc-raster-to-polygon-conversion-and-intersection">Raster to Polygon Conversion and Intersection</a></li> <li><a href="#calculate-the-green-vegetation-area-and-dissolve-by-ct" id="markdown-toc-calculate-the-green-vegetation-area-and-dissolve-by-ct">Calculate the Green Vegetation Area and Dissolve by CT</a></li> <li><a href="#data-normalization" id="markdown-toc-data-normalization">Data Normalization</a></li> </ol> </li> <li><a href="#inspect-and-compare-the-outputs" id="markdown-toc-inspect-and-compare-the-outputs">Inspect and Compare the Outputs</a></li> </ol> </details><hr /> <h1 class="no_toc" id="spatial-analysis"> <a href="#spatial-analysis" class="anchor-heading" aria-labelledby="spatial-analysis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Spatial Analysis </h1> <p>A key aspect of GIS is overlaying multiple data layers to generate new information. There are typically multiple solutions to a given problem in GIS. Here, we are going to look at two methods for combining a raster layer and a vector layer:</p> <p>1) <strong>Zonal Statistics</strong>: This method is faster, but can be applied in a more limited number of circumstances.</p> <p>2) <strong>Raster to Polygon Conversion</strong>: This method involves converting between data types and requires more a few steps, but it is more flexible.</p> <h1 id="clean-up-your-workspace-selection"> <a href="#clean-up-your-workspace-selection" class="anchor-heading" aria-labelledby="clean-up-your-workspace-selection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Clean Up Your Workspace Selection </h1> <p>From here on out, we are only goin to be working with the VanCMA_CT_2016 so you can remove the Van_DA_2016 layer.</p> <h1 id="method-1"> <a href="#method-1" class="anchor-heading" aria-labelledby="method-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Method 1 </h1> <h2 id="zonal-statistics-as-table"> <a href="#zonal-statistics-as-table" class="anchor-heading" aria-labelledby="zonal-statistics-as-table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Zonal Statistics as Table </h2> <p>We are going to overlay the vector data on the raster data to measure the mean NDVI value for each census tract using the <strong>Zonal Statistics as Table</strong> tool. Then we will <strong>Join</strong> the resulting output table to add the NDVI values by CT to the layer. A <strong>join</strong> is a way to add tables to a layer based on a specific column. You can reference the video below for guidance.</p> <p><strong class="label label-red">1</strong> Find the Zonal Statistics as Table tool in the Geoprocessing pane, choose <strong>VanCMA_CT_2016</strong> as the feature zone data, and <strong>Van_Greenest_ProjectRaster</strong> as the Input value raster.</p> <ul> <li>Set CTUID as the Zone Field</li> <li>Select All statistics types</li> </ul> <p><strong class="label label-red">2</strong> Right click on VanCMA_CT_2016 and choose Joins and Relates &gt; Add Join.</p> <ul> <li>Set CTUID as the Input Join Field</li> <li>Choose the Zonal Statistics table as your input. <em>(the name should look something like ZonalST_VanCMA_1)</em></li> <li>Make sure CTUID is selected as the Join Table Field as well</li> </ul> <p><strong class="label label-red">3</strong> Inspect the Join</p> <ul> <li>Open the attribute table and note the new columns at the end</li> </ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/DBFmPbMekHE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h1 id="method-2"> <a href="#method-2" class="anchor-heading" aria-labelledby="method-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Method 2 </h1> <h2 id="raster-to-polygon-conversion-and-intersection"> <a href="#raster-to-polygon-conversion-and-intersection" class="anchor-heading" aria-labelledby="raster-to-polygon-conversion-and-intersection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Raster to Polygon Conversion and Intersection </h2> <p>We are going to convert the classified raster layer to a vector layer. Then we can overlay the resulting vector layer with the VanCMA_CT_2016 layer using an intersect which will let us calculate the total green vegetation area per CT in the next step. You can reference the video below for guidance.</p> <p><strong class="label label-green">1</strong> Find the <strong>Raster to Polygon</strong> tool in the geoprocessing pane.</p> <ul> <li>Set the Classified NDVI image as the Input raster</li> <li>Choose Value as the Field</li> </ul> <p><strong class="label label-green">2</strong> Find the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/analysis/intersect.htm">Intersect tool</a> in the geoprocessing pane. It will combine the feature classes where they overlap and exclude all other areas. We’ll talk a lot more about this tool.</p> <ul> <li>Set Van_DA_2016 and the output from the raster to polygon conversion as the inputs. Then click run.</li> <li>Change the symbology and open the attribute table to confirm the results look like what we’d expect.</li> </ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/nFynnK6SEnI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <h2 id="calculate-the-green-vegetation-area-and-dissolve-by-ct"> <a href="#calculate-the-green-vegetation-area-and-dissolve-by-ct" class="anchor-heading" aria-labelledby="calculate-the-green-vegetation-area-and-dissolve-by-ct"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Calculate the Green Vegetation Area and Dissolve by CT </h2> <p>Now we are going to calculate the total green vegetation area by CT, and toss out a bunch of the unnecessary data. You can reference the video below for guidance.</p> <p><strong class="label label-blue">1</strong> Add a new field to the VanCMA_CT_2016_Intersect layer called “Green_Veg_Area” so we</p> <ul> <li>Name the field Green_Veg_Area</li> <li>Make sure the data type is <strong>Double</strong>.</li> </ul> <p><strong class="label label-blue">2</strong> Choose Select by Attribute and set your query to: Where gridcode is equal to 3.</p> <p><strong class="label label-blue">3</strong> Right click on Green Veg Area and choose <strong>Calculate Field</strong>. This allows us to define a function and apply it to the table.</p> <ul> <li>Set the expression to: Green_Veg_Area = Shape_Area <ul> <li><em>Note</em> you only need to complete the right side of the equation</li> <li>This will simply copy the shape area for the green vegetation areas, we will work with a more complex expression on the next page.</li> </ul> </li> </ul> <p><strong class="label label-blue">4</strong> We want to assign all other rows a 0. We can quickly invert our selection with the <strong>Switch</strong> button.</p> <ul> <li>Calculate the field again, but with Green_Veg_Area = 0 <ul> <li>We have selected gridcode 1 &amp; 2 (Not vegetation) so they all get zeros.</li> </ul> </li> </ul> <h2 id="data-normalization"> <a href="#data-normalization" class="anchor-heading" aria-labelledby="data-normalization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Normalization </h2> <p>One last thing step! We need to account for a confounding factor. The CTs are different sizes. To better compare the CTs (which are vastly different sizes), lets Normalize our results by the total area of each CT! <strong>Normalizing</strong>, sometimes also referred to as standardizing, is the process of dividing one variable by another variable to account for their relationship. It can help us identify patterns that might be masked by a confounding variable.</p> <p><strong class="label label-yellow">1</strong> Add a new field called “PCT_Green_Space”.</p> <ul> <li>Make sure you set the data type to <strong>Double</strong></li> </ul> <p><strong class="label label-yellow">2</strong> Calculate the field using the following equation:</p> <ul> <li>PCT_Green_Space = SUM_Green_Veg_Area/Shape_Area <ul> <li><em>Note</em> you only need to complete the right side of the equation</li> </ul> </li> </ul> <p><strong class="label label-yellow">3</strong> Right click on PCT_Green_Space and select “Statistics”</p> <ul> <li>This will bring up some descriptive statistics for this field.</li> </ul> <h1 id="inspect-and-compare-the-outputs"> <a href="#inspect-and-compare-the-outputs" class="anchor-heading" aria-labelledby="inspect-and-compare-the-outputs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inspect and Compare the Outputs </h1> <p>Lets see how the two methods compare?</p> <p><strong class="label label-green">1</strong> Open the Attribute Table of VanCMA_CT_NDVI_Veg. Double click on <strong>Mean_NDVI</strong> to sort by that column in ascending/descending order. Take note of the CTUIDs for of the CTs with the highest values. Now look at <strong>SUM_Green_Veg_Area</strong> and <strong>PCT_Green_Space</strong>. Do they all match up, or are there some differences?</p> <p><strong class="label label-green">2</strong> Create a new Scatter plot. Set the X-axis to <strong>Mean_NDVI</strong> and the Y-axis to <strong>SUM_Green_Veg_Area</strong>. Look at the R2 score and think about the relationship between these variables. Now change the Y-axis to <strong>PCT_Green_Space</strong> and not how the relationship changes.</p> <p><strong class="label label-green">3</strong> Change X-axis to <strong>Mean_NDVI</strong> the Y-axis to <strong>Housing</strong>. Make sure to <strong>Exclude the zeros</strong> using the same procedure as earlier then look at the resulting relationship. Is the <strong>Mean_NDVI</strong> a good predictor of housing cost? Try changing the X-axis to <strong>PCT_Green_Space</strong> to see if it gives a better result?</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
